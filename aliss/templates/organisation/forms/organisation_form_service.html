{% load cloudinary %}
{% load aliss %}


{% if form.errors %}
<div class="f-row">
  <fieldset class="errors">
  <legend>Form invalid</legend>
    {% for field in form %}
      {% for error in field.errors %}
        <ul class="alert alert-danger">
          <li>{{ field.name|title }}: {{ error|escape }}</li>
        </ul>
      {% endfor %}
    {% endfor %}
    {% for error in form.non_field_errors %}
      <ul class="alert alert-danger">
        <li>{{ error|escape }}</li>
      </ul>
    {% endfor %}
  </fieldset>
</div>
{% endif %}

<div class="f-row">
  {% include 'partials/forms/field.html' with field=form.name %}
</div>
<div class="f-row">
  {% include 'partials/forms/field.html' with field=form.description annotation="Include information on what your service does, who you help and opening times. Feature words you think people would search for, assume those searching have never heard of your organisation or service." %}
</div>
<div class="f-row two">
  {% include 'partials/forms/field.html' with field=form.phone %}
  {% include 'partials/forms/field.html' with field=form.email %}
</div>
<div class="f-row">
  {% include 'partials/forms/field.html' with field=form.url %}
</div>
<div class="f-row">
  <label>Categories <span>(required)</span></label>
  <p class="small">
    <i class="fa fa-info-circle" aria-hidden="true"></i>
    Select up to three categories that best describe the needs that your service satisfies.
  </p>
  <div class="all-categories">
    <div id="category-filter">
      <input type="text" placeholder="Type to filter categories...">
    </div>
    {% get_root_categories as root_categories %}
    <ul class="radio-list cat truncate children">
      {% for category in root_categories %}
        {% include 'service/forms/partials/category.html' with category=category selected_categories=form.categories.value %}
      {% endfor %}
    </ul>
  </div>
  <div class="selected-categories active">
    <p>You have selected the following categories:</p>
    <div class="cats"></div>
  </div>
</div>


